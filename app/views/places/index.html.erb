<div class='mx-auto'>
  <!--<div id='map' style='width: 100%; height: 600px;'></div>-->
  <script>
    function initMap() {
      // 地図要素を取得する（マーカーを表示させるために必要）
      const mapElement = document.getElementById('map');

      const mapOptions = {
        center: { lat: 35.8587, lng: 139.8722 },
        zoom: 10
      };

      const map = new google.maps.Map(mapElement, mapOptions);
    }
  </script>
  <h1>Places</h1>
  <%= link_to 'New Place', new_place_path %>
  <table>
    <tr>
      <th>Name</th>
      <th>Formatted Address</th>
      <th>Rating Avg</th>
      <th>Phone Number</th>
      <th>Show</th>
      <th>Edit</th>
    </tr>

    <% @places.each do |place| %>
      <tr>
        <td><%= place.name %></td>
        <td><%= place.address %></td>
        <td><%= place.rating_avg %></td>
        <td><%= place.phone_number %></td>
        <!-- 他のカラムも追加 -->
        <td><%= link_to 'Show', place %></td>
        <td><%= link_to 'Edit', edit_place_path(place) %></td>
        <td><%= button_to 'Delete',place, method: :delete, data: { turbo: false }, form: { onSubmit: "return check()" } %></td>
        <script>
          function check(){
            if(window.confirm('本当に削除しますか？')){
              return true;
            }
            else{
              window.alert('キャンセルされました');
              return false;
            }
          }
        </script>
      </tr>
    <% end %>
  </table>
  <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_API_KEY'] %>&callback=initMap" async defer></script>
</div>